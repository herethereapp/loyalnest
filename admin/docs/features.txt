```
LoyalNest App Features

## MUST HAVE FEATURES
Essential for the app to function as a loyalty program, ensuring core functionality, user engagement, Shopify App Store compliance, and scalability for 100–5,000 customers.

1. Points Program (Phase 1):
    - Earning Actions: Purchases (10 points/$), account creation (200 points), newsletter signups (100 points), reviews (100 points), birthdays (200 points). (Core engagement mechanisms for loyalty.)
    - Redemption Options: Discounts ($5 off for 500 points), free shipping (1000 points), free(products (1500 points), coupons at checkout. (Drives repeat purchases.)
    - Points Adjustments: Deductions for order cancellations/refunds. (Prevents points abuse, aligns with US-CW6.)
    - Customization: Customizable rewards panel, launcher button, points currency (e.g., Stars). (Ensures brand integration on Shopify storefront.)

2. Referral Program (Phase 1):
    - Sharing Options: Email, SMS (via Twilio/SendGrid), social media (Facebook, Instagram). (Drives viral growth, aligns with US-CW4.)
    - Rewards: Points (50 for referrer/referee) or discounts (10% off). (Incentivizes referrals.)
    - Dedicated Referral Page: Incentives for referrer and referred friend. (User-friendly referral engagement.)
    - Async Processing: Queued notifications via Bull for scalability. (Supports high-volume stores.)

3. On-Site Content (Phase 1):
    - Widgets: SEO-friendly loyalty page, rewards panel, launcher button, checkout integration, points display on product pages. (Ensures visibility and seamless Shopify integration, aligns with US-MD7.)
    - Nudges: Post-purchase prompts, email capture popups. (Drives engagement and program growth.)
    - Accessibility: ARIA labels, keyboard navigation for screen reader support. (Ensures inclusivity.)

4. Integrations (Phase 1):
    - Shopify: OAuth, webhooks (orders/create, customers/data_request, customers/redact), POS for online/in-store rewards (10 points/$). (Critical for Shopify compliance and omnichannel loyalty.)
    - Email: SendGrid for basic email notifications (points, referrals). (Essential for communication, aligns with US-BI2.)
    - Reviews: Yotpo or Judge.me for points-for-reviews. (Common e-commerce incentive.)

5. Analytics (Phase 1):
    - Reports: Customer engagement, points redemption, retention metrics, sales attribution. (Tracks program ROI, aligns with US-MD5.)
    - Basic RFM Analytics: Recency, Frequency, Monetary segmentation with static thresholds (e.g., Recency <30 days). (Targets campaigns, aligns with US-AM9.)
    - PostHog Tracking: Events (e.g., points_earned, redeem_clicked) for usage insights. (Monitors engagement.)

6. GDPR Compliance (Phase 1):
    - Webhooks: Handle customers/data_request, customers/redact. (Mandatory for Shopify App Store, aligns with US-AM6.)
    - Data Export/Redaction: UI in Admin Module to process GDPR requests. (Ensures compliance.)
    - Data Import: Import from Smile.io, LoyaltyLion via CSV. (Supports migration, aligns with US-BI3.)

7. Security (Phase 1):
    - Authentication: Shopify OAuth for Merchant Dashboard/Customer Widget, RBAC for Admin Module. (Secures access, aligns with US-AM4.)
    - Encryption: pgcrypto for customers.email, merchants.api_token. (Protects sensitive data.)
    - Error Handling: 400 (invalid input), 429 (rate limits) with transaction rollbacks. (Ensures reliability.)

8. Testing and Monitoring (Phase 1):
    - Automated Testing: Jest (APIs), Cypress (UI), k6 (load testing for 1,000 orders/hour). (Ensures quality and scalability.)
    - Monitoring: Prometheus/Grafana for API latency, Redis hits, queue status. (Tracks performance, aligns with tech stack.)

9. Other (Phase 1):
    - Automated Email Flows: Points updates, referral confirmations via SendGrid. (Ensures consistent communication.)
    - Admin Module: Overview (metrics), Merchants (management), Admin Users (RBAC), Logs (API/audit). (Supports platform management, aligns with US-AM1–AM5.)

## SHOULD HAVE FEATURES
Enhance user experience, scalability, or efficiency but not critical for MVP launch. Targeted for Phase 2 to add value for medium to Shopify Plus merchants.

1. Points Program (Phase 2):
    - Earning Actions: Social follows (50 points), goal spend ($100 for 200 points), referrals (50 points). (Additional engagement drivers.)
    - Redemption Options: Cashback, custom incentives. (Expands reward variety.)
    - Customization: Fully customizable rewards page, no-code Sticky Bar, advanced branding. (Enhances brand alignment.)

2. Referral Program (Phase 2):
    - Sharing Options: WhatsApp integration. (Expands referral channels.)
    - Popups/Nudges: Exit-intent, time-optimized popups for referrals/email capture. (Boosts engagement, aligns with US-MD3.)

3. VIP Tiers (Phase 2):
    - Thresholds: Silver ($100+), Gold ($500+), Platinum ($1000+). (Encourages loyalty, aligns with US-MD8.)
    - Perks: Early product access, birthday gifts, exclusive discounts. (Enhances retention.)
    - Notifications: Emails for tier upgrades/downgrades. (Keeps customers informed.)

4. On-Site Content (Phase 2):
    - Widgets: Discount banners, point calculators, checkout extensions. (Improves engagement, aligns with US-MD7.)
    - Launchers: Apple/Google Wallet integration. (Convenient for mobile users.)

5. Bonus Campaigns (Phase 2):
    - Types: Time-sensitive promotions, goal spend, points multipliers (2x points). (Drives urgency, aligns with US-MD12.)
    - Conditions: Scheduled/automated via no-code dashboard. (Streamlines campaign management.)

6. Analytics (Phase 2):
    - Reports: ROI dashboard, comparisons with similar stores, advanced retention analytics. (Optimizes program performance.)
    - Insights: Real-time RFM data for campaign optimization. (Enhances targeting, aligns with US-AM9.)
    - Segmentation: Behavioral segments (e.g., churn risk, purchase frequency). (Refines targeting.)

7. Integrations (Phase 2):
    - Email/SMS: Klaviyo, Mailchimp, Yotpo Email & SMS, Postscript for advanced campaigns. (Enhances personalization.)
    - Others: Shopify Plus, ReCharge, Gorgias, Shopify Flow for automation. (Broadens compatibility, aligns with US-BI3.)

8. Multilingual Support (Phase 2):
    - Basic Support: Accept-Language headers, JSONB fields (email_templates.body, nudges.title). (Supports multi-region stores, aligns with US-CW11.)
    - Widget: Language dropdown (English, Spanish). (Improves accessibility.)

9. Other (Phase 2):
    - Multi-Store Point Sharing: Unified points across multiple stores. (Useful for multi-store merchants.)
    - Notifications: Automated reminders for unused points/rewards. (Boosts engagement.)

## COULD HAVE FEATURES
Nice-to-have features for polish or advanced use cases, deferred to Phase 3 for global or premium merchants.

1. Points Program (Phase 3):
    - Customization: Advanced branding with custom CSS/fonts. (For premium brands.)

2. VIP Tiers (Phase 3):
    - Perks: Bonus points, exclusive rewards (e.g., limited-edition products). (Enhances premium tiers.)

3. On-Site Content (Phase 3):
    - Widgets: Rewards Sticky Bar, omnichannel Shopify POS integration. (Advanced branding/in-store focus.)

4. Bonus Campaigns (Phase 3):
    - Types: Social media engagement, limited-time bonuses, points events. (Adds gamification, aligns with US-MD12.)

5. Analytics (Phase 3):
    - Reports: 25+ advanced reports for Plus merchants. (Comprehensive analytics.)
    - Developer Toolkit: Shopify metafields for custom analytics. (For advanced users.)

6. Integrations (Phase 3):
    - Platforms: BigCommerce, Wix, Adobe Commerce, Salla, Meta, Okendo, Skio. (Expands market reach.)
    - Developer Toolkit: Metafields for custom data access. (For advanced customization.)

7. Other (Phase 3):
    - Gamification: Badges, leaderboards. (Engages customers, aligns with US-CW9–CW10.)
    - Multi-Currency Discounts: Supports global pricing. (For international merchants.)
    - Multilingual Widget: Full support for 250+ languages. (For global expansion.)
    - Targeted Communication: Event-triggered push notifications. (Advanced engagement.)

Notes:
- Must Have features align with Phase 1 (MVP) for small merchants, ensuring Shopify App Store compliance and core loyalty functionality.
- Should Have features target Phase 2 for medium to Plus merchants, adding engagement and scalability.
- Could Have features are Phase 3 for polish and global expansion.
- All features map to user stories (e.g., US-CW1–CW5, US-MD1–MD7, US-AM1–AM6) and wireframes (e.g., Points Program, Customer Widget).
- Scalability ensured via Redis caching, Bull queues, and PostgreSQL partitioning (points_transactions, api_logs).
- Security includes Shopify OAuth, RBAC, pgcrypto encryption, and GDPR compliance.
```